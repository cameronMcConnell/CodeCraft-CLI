# CodeCraft-CLI
CodeCraft-CLI is a command-line tool designed to modify CSV files using OpenAI's GPT model. The tool generates Python code based on your input, executes the code to process the CSV file, and saves the updated CSV file. It allows users to leverage the power of GPT to automate and streamline CSV file manipulation tasks.

## Features

- Generate Python code to manipulate CSV files using OpenAI's GPT model.
- Execute the generated code on CSV files.
- Save the modified CSV files to a specified output path.
- Optional verbose mode for increased output verbosity.

## Prerequisites

- Python 3.6 or higher
- OpenAI Python Client Library
- Pandas Library
- PyYAML Library

## Installation

1. Clone the repository:

```sh
git clone https://github.com/cameronMcConnell/codecraft-cli.git
cd codecraft-cli
```

2. Install the required Python packages:

```sh
pip install openai pandas pyyaml
```

## Configuration

1. Update the `config.yaml` file in the root directory of the project with your OpenAI credentials and assistant details:

```yaml
CODECRAFT_CLI_OPENAI_API_KEY: "your_openai_api_key"
CODECRAFT_CLI_PROJECT_ID: "your_openai_project_id"
CODECRAFT_CLI_ORGANIZATION_ID: "your_openai_organization_id"
CODECRAFT_CLI_ASSISTANT_ID: "your_assistant_id"
CODECRAFT_CLI_ASSISTANT_MODEL: "gpt-4-code-interpreter"
```

2. If you do not have the `CODECRAFT_CLI_ASSISTANT_ID`, you can create the OpenAI assistant by running the `create_assistant.py` script:

```sh
python create_assistant.py
```

This script will print the `CODECRAFT_CLI_ASSISTANT_ID`, which you need to add to your `config.yaml` file.

## Usage

Run the `codecraft_cli.py` script from the command line with the required arguments:

```sh
python codecraft_cli.py input.csv output.csv "Your prompt to modify the CSV"
```

### Arguments

* input_file: Path to the CSV file to be processed.
* output_file: Path for the output file to be created.
* prompt: Prompt for the function/code to be generated by GPT and executed on the CSV file.
* -v, --verbose: Increase output verbosity (optional).

### Example

```sh
python codecraft_cli.py ../test/input_file.csv ../test/output_file.csv "Change all the numbers in the 'nums' column to 33"
```

### Verbose Mode

To see the generated code before it is executed, use the `-v` or `--verbose` flag:

```sh
python codecraft_cli.py ../test/input_file.csv ../test/output_file.csv "Your prompt to modify the CSV" --verbose
```

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## License

This project is licensed under the MIT License - see the LICENSE file for details.